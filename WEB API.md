Документация Web API для управления бортовым модулем ESP8266. Все команды доступны при подключении к Wi-Fi сети планера (`Glider-Timer`).

**Базовый URL:** `http://192.168.4.1`

---

### 1. Статус системы
Возвращает текущее состояние устройства, сенсоров и данные телеметрии.
*   **Путь:** `/status`
*   **Метод:** `GET`
*   **Пример:** `http://192.168.4.1/status`
*   **Параметры ответа (JSON):**
    *   `status`: "ok" — сервер активен.
    *   `hw_ok`: `true/false` — физическое наличие барометра на I2C шине.
    *   `calibrated`: `true/false` — выполнен ли замер базового давления.
    *   `calibrating`: `true/false` — идет ли процесс калибровки в данный момент.
    *   `monitoring`: `true/false` — включен ли активный опрос датчика.
    *   `alt`: текущая отфильтрованная высота в метрах (появляется после калибровки).
    *   `temp`: температура датчика в °C.
    *   `stable`: `true/false` — неподвижен ли датчик (индикатор дрейфа).

---

### 2. Калибровка барометра (Полная)
Запускает процедуру термостабилизации (10 сек) и сбора 2000 образцов давления. 
*   **Путь:** `/calibrate`
*   **Метод:** `GET`
*   **Особенности:** Возвращает код `202 Accepted` немедленно, чтобы избежать таймаута браузера, после чего блокирует выполнение других задач на ~20 секунд.
*   **Логи:** Прогресс отображается в Serial терминале платы.

---

### 3. Быстрое обнуление (Zero)
Устанавливает текущее давление как "ноль метров" без длительной термостабилизации.
*   **Путь:** `/zero`
*   **Метод:** `GET`
*   **Описание:** Используется для оперативного сброса высоты перед стартом. Сбор 500 образцов (~2 сек).

---

### 4. Управление мониторингом барометра
Включает или выключает математический обсчет высоты и фильтрацию.
*   **Путь:** `/baro`
*   **Метод:** `GET`
*   **Аргументы:** `enable=1` (включить), `enable=0` (выключить).
*   **Пример:** `http://192.168.4.1/baro?enable=1`
*   **Примечание:** По умолчанию после включения платы мониторинг выключен для экономии ресурсов.

---

### 5. Управление Serial-логами
Включает или выключает вывод данных телеметрии в Serial-порт (USB).
*   **Путь:** `/log`
*   **Метод:** `GET`
*   **Аргументы:** `enable=1` (включить), `enable=0` (выключить).
*   **Пример:** `http://192.168.4.1/log?enable=1`
*   **Описание:** При включении плата начинает спамить в терминал текущую высоту и состояние стабильности каждую секунду (или согласно `BARO_INTERVAL`).

---

### 6. Загрузка полетной программы
Записывает новую программу в память устройства.
*   **Путь:** `/program`
*   **Метод:** `POST`
*   **Тело запроса:** JSON объект программы.
*   **Особенности:** Требует валидного JSON. В браузере напрямую через адресную строку не вызывается (требуется специализированное ПО или мобильное приложение).